---
title: 从形式文法到数学的极限(1)
tags:
  - math, NLP
categories:
  - math
mathjax: false
date: 2018-05-12 22:38:27
---


# 从形式文法到数学的极限 (1) - 乔姆斯基和他的形式文法

*诺姆·乔姆斯基（Noam Chomsky）*，美国语言学家，为科学作出的最大贡献便是他提出的形式文法。这个概念一经提出，直接促成了不知道多少重要技术，其中收益最多的领域可能就是信息行业了。

## 语法分析器

在计算机中，要想使写好的代码运行起来，必须要有一个叫做“编译”的中间过程，将代码转换成可直接由机器执行的文件（这里只涉及编译型语言）。为了让计算机在编译时读懂你写的代码，一个适当的语法分析器是必不可少的。

每种语言都有自己不同的语法，语法分析器按照各种语言定义的语法，逐字符地将源代码解析成一棵语法树。
而用来描述这种语法的工具，就是乔姆斯基的形式文法。

## 巴克斯-瑙尔范式

要定义一套语法很简单，下面是一组（简陋的）示例：
``` text
    <sentence> := [ <subject> ] <predicate> { <object> }
    <subject> := <nominal-phrase>
    <object> := <nominal-phrase>
    <nominal-phrase> := <quantifier> <noun>
    <quantifier> := <article> | <number>
    <article> := "a" | "an" | "the"
    ...
```

如你所见，所有的字面量都很直观、浅显，只是有几个符号需要解释一下：

    每条语法的最左项是它的名字，用尖括号括起来，跟随一个冒号和一个等号，表示定义；
    在语法定义里引用其他语法，也用尖括号括起要引用的名字即可；
    若要表示出现与否均可的选项，用方括号括起，比如 <sentence> 里的 <subject>；
    若要表示出现任意次数（包括 0 次），用大括号括起，比如 <sentence> 里的 <object>；
    若要表示多个模式里任选，用竖杠分隔开；
    若要表示欲匹配的字符串，用双引号括起。

这种书写记号是荷兰学者*瑙尔（Naur）*最先提出的，后经美国学者*巴克斯（Bakus）*完善，形成了现在的**巴克斯-瑙尔范式**。乔姆斯基在他自己的形式文法里，也采用了类似**B-N 范式**的书写方式。

他把所有出现在尖括号里的那些名称称作“非终结符”，意为可以继续向下分解成更小的单位；将出现在引号里的字符串称作“终结符”，意为**最小单位**，不可继续分解。在语言学中，通常用大写字母表示非终结符，而用小写字母表示终结符。

## 语法层级

乔姆斯基给他的文法根据不同的规则划分了不同的等级，以表示它们所描述语言的`“自由”`程度。
``` text
    0 型语言：任意语法所描述的语言都是 0 型的
    上下文有关（1 型）语言：对于所有语法都有 aAb := cBd 形式的语言，称之为上下文有关语言
    上下文无关（2 型）语言：对于所有语法都有 A := aBb 形式的语言，称之为上下文无关语言
    正则（3 型）语言：对于所有语法都有 A := aB 或 A := Ba 形式的语言，称之为正则语言
```
可以看出，从上到下对语法的限制愈发增多，语言的多样性也随之减少。对于 1 和 2 型语言的命名中的“有关”、“无关”，是指非终结符的解析是否受其邻接的终结符影响。

大部分自然语言都是上下文有关语言。比如英语中` "I broke a window" `和` "The window broke" `中的` "broke" `便是受到宾语有无的影响而分别成为了及物和不及物动词。

上下文无关语言主要被用于设计程序，这是因为解析 2 型语言时不需考虑语法结构所处的上下文，其语法解析器相对容易实现。

可以看出，正则语言的表达能力极为受限，因为其解析过程只能在每一步中增添一前缀或后缀。对于总是增加前缀的正则语言，我们称为左线性语言，反之称为右线性语言。事实上，对这种高度受限的语言，人们已经设计出来一些强大的用来解析它们的工具了，比如正则表达式。

## 语法推导

对于任意一组语法和一个指定的非终结符，总是可以根据其中的规则将这个非终结符扩展成一个终结符串（可能是无限的）。
比如对于这条（正则）文法：
``` text
<A> := "a" <A> | ""
```
不断地将 `<A> `替换为` "a"`，便可以推出下列字符串：
``` text
a, aa, aaa, aaaa, ...
```


如果一个字符串（包括终结符和非终结符）能由某组语法推导过来，就说这个字符串规约到这组语法。

## 数学推理

在数学上，我们把最开始给定的那组语法叫做“公理”，把由所有终结符可能构成的字符串称作“命题”。所有的公理都是公认为真的命题，比如欧式几何里的“过两点必有一条直线”。

对于那些可以规约到公理的命题，我们说它们是也是真的，并称它们为“定理”。而公理到定理的推导过程，自然就叫“证明”。

所有的公理都可以在自己前面加上一个终结符“非”，来变成自己的反命题。对于所有能规约到公理的反命题的命题，我们说它们是假的。这样，所有命题就有了自己的真假，或者更专业一点地，叫它们“真值”。

对于任意的数学命题，只需要对它们进行规约，看看是否能回到最初的公理即可知道它们正确与否了。

这似乎看上去太美好了，你怎么能保证所有命题都一定能规约到公理或它们的反命题上去呢？有没有可能存在一个命题，它根本就不可能通过有限次规约，得到最初的公理呢？

还真的有一个神人挖到了这么一个大坑，直接否定了数学的完备性（即所有命题均能证明或证伪）。至于这人是谁，以及这坑怎么挖的，请看下回分解。
